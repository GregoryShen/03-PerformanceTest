# 张挺知乎live

性能测试的基本原理: 主要统计结果及其计算

一段时间内的请求平均响应时间 = 单个请求的响应时间之和(秒) / 这段时间内服务端处理掉的总请求数(个)

一段时间内的平均吞吐量 = 这段时间内服务端处理掉的总请求数(个) / 时间(秒) 

> 单位名称是(TPS, transaction per second) 或 (QPS, Query per second)

设这段时间内服务端处理掉的总请求数(个)为n, 这段时间为t(秒), 一段时间内的请求平均响应时间为Tv(秒), 一段时间内的平均吞吐量为Qv, 单个响应的响应时间为Ts, SUM为求和函数. 则 

`Tv = SUM(Ts)/n` — 公式1

`Qv = n/t` — 公式2

由公式1与公式2推导出:

`Qv = SUM(Ts)/Tv/t`

`Qv = SUM(Ts)t/Tv` — 公式3

由公式3得: 平均吞吐量`Qv`与平均响应时间`Tv`成反比.

即: 平均响应时间越长, 则平均吞吐量越小.



